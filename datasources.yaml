APIs:

  INSEE.Metadonnees:
    name: Metadonnees INSEE
    description: INSEE - API des métadonnées
    base_url: https://api.insee.fr/metadonnees/V1
    apidoc: https://api.insee.fr/catalogue/site/themes/wso2/subthemes/insee/pages/item-info.jag?name=M%C3%A9tadonn%C3%A9es&version=V1&provider=insee
    default_headers:
        accept: application/json

  INSEE.Melodi:
    name: MELODI
    description: INSEE - API de données locales
    base_url: https://api.insee.fr/melodi
    apidoc: https://portail-api.insee.fr/catalog/api/a890b735-159c-4c91-90b7-35159c7c9126/doc?page=ee625968-272a-4637-a259-68272aa63766
    rate_limit: 2.5
    # # Keeping this for orientation for future task to manage pagination
    # pagination:
    #   style: pages
    #   token_key: page
    #   size_key: maxResult
    #   max_size: 10000
    default_headers:
      accept: application/json

  DiDo:
    name: DiDo Logement
    description: API de données du Ministère du logement et développement durable
    base_url: https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1
    apidoc: https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1/apidoc.html#/
    rate_limit: 0.1
    pagination:
      style: pages
      token_key: page
      size_key: pageSize
      max_size: 100
    default_headers:
      accept: application/json


domains:

  geographical_references:

    regions:
      name: regions
      API: INSEE.Metadonnees
      type: json_extractor
      base_url: 
      url: https://api.insee.fr/metadonnees/V1/geo/regions
      urlpath: /geo/regions
      format: json

    departments:
      name: departments
      API: INSEE.Metadonnees
      type: json_extractor
      url: https://api.insee.fr/metadonnees/V1/geo/departements
      urlpath: /geo/departments
      format: json

    communes:
      name: communes
      API: INSEE.Metadonnees
      type: json_extractor
      url: https://api.insee.fr/metadonnees/V1/geo/communes
      urlpath: /geo/communes
      format: json

  logement:

      dido_catalogue:
        name: dido_datasets_catalog
        API: DiDo
        type: json_extractor
        urlpath: /datasets

      annual_dept_data:
        name: donnees_annuelles_departementales
        API: DiDo
        type: file_extractor
        urlpath: /datafiles/a0ae7112-5184-4ad7-842d-87b09fd27df1/csv
        params:
          withColumnName: true
          withColumnDescription: true
          withColumnUnit: true



