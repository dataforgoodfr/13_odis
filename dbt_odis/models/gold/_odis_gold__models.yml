version: 2

models:

  - name: com_dep_reg
    description: Table de correspondance des codes Région, Département, Communes
    columns:
      - name: CODGEO
        description: Code officiel INSEE français de la commune
        quote: true
        data_type: text
      - name: CODREG
        description: Code officiel INSEE français de la région rattachée à la commune
        quote: true
        data_type: text
      - name: CODDEP
        description: Code officiel INSEE français du département rattaché à la commune
        quote: true
        data_type: text
      - name: LIBGEO
        description: Nom des communes avec articles et tirets
        quote: true
        data_type: text

  - name: gps_dep_reg
    description: Table de correspondance des codes Région, Département, Communes qui sont des préfectures avec leur coordonnées géographiques en point
    columns:
      - name: geo_point
        description: Coordonnées géograhiques du point lié à la commune préfecture, en liste ['Lattitude','Longitude']
        data_type: text
      - name: service
        description: Type de Préfecture Département ou Région
        tests:
          - accepted_values:
              values:
                - Préfecture
                - Préfecture de région
        data_type: text
      - name: code_INSEE
        description: Code officiel INSEE français de la commune
        data_type: text
        quote: true
        tests:
          - not_null
      - name: commune
        description: Nom des Préfectures avec articles et tirets
        data_type: text
      - name: DEP
        description: Code officiel français du département rattaché à la commune, vide pour les régions
        quote: true
        data_type: text
      - name: REG
        description: Code officiel français de la région rattachée à la commune, vide pour les départements
        quote: true
        data_type: text

  - name: typologie_territoires
    description: Table de correspondance des Communes avec leur population mesurée et leur tranche de population liée
    columns:
      - name: CodGeo
        description: Code officiel français de la commune
        tests:
          - not_null
      - name: libellé
        description: Nom des communes avec articles et tirets
      - name: tranche_de_population
        description: Tranche déterminée à partir du champ population
      - name: population
        description: Nombre d'habitants dans la commune

  - name: geographical_references_intercommunalites_renamed
    description: Gold model for geographical references
    columns:
      - name: codgeo
        description: Siren de la commune
        data_type: integer
      - name: raison_social
        description: Nom du groupement interco
        data_type: text
      - name: nb_membres
        description: Nombre de membre dans le groupement
        data_type: integer
      - name: total_pop_tot
        description: Population du groupement interco
        data_type: integer
      - name: total_pop_mun
        description: population_totale_du_membre_du_groupement
        data_type: integer

  - name: gold_logement_logements_sociaux
    description: Table transformée contenant les indicateurs logements sociaux pour tous les niveaux géograpiques (région, département, commune, epci)
    columns:
      - name: codgeo
        description: Parc complet Ensemble du parc social
        tests:
          - not_null
      - name: year
        description: Année de référence
      - name: nb_ls
        description: Parc complet Ensemble du parc social
      - name: nb_loues
        description: Parc complet proposés à la location loués
      - name: nb_vacants
        description: Parc complet proposés à la location vacants
      - name: nb_vides
        description: Parc complet Ensemble du parc vide
      - name: nb_asso
        description: Parc complet pris en charge par une association
      - name: nb_occup_finan
        description: Parc complet occupés avec ou sans contrepartie financière
      - name: nb_occup_temp
        description: Parc complet occupé pour de l'hébergement temporaire
      - name: nb_ls_en_qpv
        description: Parc complet Nombre de logements en QPV
      - name: tx_vac
        description: PTaux de vacance % totale Au 01/01
      - name: tx_vac3
        description: Taux de vacance % > 3 mois Au 01/01
      - name: tx_mob
        description: Taux de mobilité % Au 01/01
      - name: densite
        description: Parc complet Densité pour 100 résidences principales

  - name: gold_logement_logements_sociaux_filtered
    description: Table filtrée contenant les indicateurs logements sociaux pour tous les niveaux géograpiques (région, département, commune, epci) pour l'année 2024
    columns:
      - name: codgeo
        description: Parc complet Ensemble du parc social
        tests:
          - not_null
      - name: year
        description: Année de référence
      - name: nb_ls
        description: Parc complet Ensemble du parc social
      - name: nb_loues
        description: Parc complet proposés à la location loués
      - name: nb_vacants
        description: Parc complet proposés à la location vacants
      - name: nb_vides
        description: Parc complet Ensemble du parc vide
      - name: nb_asso
        description: Parc complet pris en charge par une association
      - name: nb_occup_finan
        description: Parc complet occupés avec ou sans contrepartie financière
      - name: nb_occup_temp
        description: Parc complet occupé pour de l'hébergement temporaire
      - name: nb_ls_en_qpv
        description: Parc complet Nombre de logements en QPV
      - name: tx_vac
        description: PTaux de vacance % totale Au 01/01
      - name: tx_vac3
        description: Taux de vacance % > 3 mois Au 01/01
      - name: tx_mob
        description: Taux de mobilité % Au 01/01
      - name: densite
        description: Parc complet Densité pour 100 résidences principales

  - name: logements_territoires
    description: Table recensant les nombres de types de logements par construction et par occupation par commune, département et région. les ratios nombre de pièces moyennes par habitation et par résidence rpincipale sont calculés
    columns:
      - name: codgeo
        description: Code officiel français de la zone géographique
        data_type: text
      - name: year
        description: Année de la donnée mesurée
        data_type: numeric
      - name: log
        description: Nombre total de logements dans la zone géographique
        data_type: double precision
      - name: rp
        description: Nombre total de logements qui sont des résidences principales dans la zone géographique
        data_type: double precision
      - name: rsecocc
        description: Nombre total de logements qui sont des résidences secondaires occupées dans la zone géographique
        data_type: double precision
      - name: logvac
        description: Nombre total de logements qui sont des logements vacants dans la zone géographique
        data_type: double precision
      - name: maison
        description: Nombre de maisons dans la zone géographique
        data_type: double precision
      - name: appart
        description: Nombre d'appartements dans la zone géographique
        data_type: double precision
      - name: rpmaison
        description: Nombre de maisons qui sont des résidences principales dans la zone géographique
        data_type: double precision
      - name: rpappart
        description: Nombre d'appartements qui sont des résidences principales dans la zone géographique
        data_type: double precision
      - name: nb_moy_piece
        description: Nombre moyen de pièces par type de logement (maison ou appartement), pondéré selon la proportion de chaque type de logement dans le nombre total
        data_type: double precision
      - name: men
        description: Nombre total de logements qui sont des résidences principales dans la zone géographique
        data_type: double precision
      - name: nbpi_rp
        description: Nombre moyen de pièces par type de logement (maison ou appartement) qui sont des résidences principales
        data_type: double precision

  - name: education_moyenne
    description: Table recensant les nombres totaux de classes et d'élèves en écoles préélémentaires et élémentaires d'une zone géographique identifiée, et son nombre moyen d'élèves par classe
    columns:
      - name: codgeo
        description: code INSEE de la zone géographique
        data_type: text
      - name: YEAR
        description: année de mesure, à la rentrée scolaire
        data_type: numeric
        quote: true
      - name: Nombre_Moyen_Eleves_Classe
        description: nombre moyen d'élèves par classe, tous niveaux et toutes classes confondues (pas de pondération)
        data_type: numeric
        quote: true
      - name: Nombre total d'élèves
        description: nombre total d'élèves en écoles préélémentaires et élémentaires dans la zone géographique
        data_type: integer
        quote: true
      - name: Nombre total de classes
        description: nombre total de classes en niveaux préélémentaires et élémentaires dans la zone géograhique
        data_type: integer
        quote: true

  - name: emploi_demandeur
    description: Table recensant le nombre de demandeurs d'emploi pour une zone géographique identifiée et un mois de mesure donné
    columns:
      - name: codgeo
        description: code INSEE de la zone géographique
        data_type: text
      - name: YEAR
        description: mois_année de mesure des données
        data_type: text
        quote: true
      - name: Demandeurs_Emploi
        description: Nombre de demandeurs d'emploi
        data_type: integer
        quote: true

  - name: emploi_salaire_median
    description: Salaire Médian
    columns:
      - name: codgeo
        description: code commune
        data_type: integer
      - name: YEAR
        description: Année de l'étude
        data_type: integer
        quote: true
      - name: Mediane_Annuelle
        description: Salaire médian sur l'année
        data_type: integer
        quote: true

  - name: emploi_volumes_mobilites
    description: Déplacement et mode de transport domicile / travail pour l'année 2021
    columns:
      - name: codgeo
        description: Identifiant géographique
        data_type: text
      - name: YEAR
        description: Période temporelle
        data_type: integer
      - name: Nb actifs travaillant dans commune
        description: Nb actifs travaillant dans commune
        data_type: decimal
        quote: true
      - name: Nb actifs travaillant dans autre commune
        description: Nb actifs travaillant dans autre commune
        data_type: decimal
        quote: true

  - name: emploi_gds_secteurs
    description: Table des effectifs salariés et du nombre d'établissements par grands secteurs d'activités identifiés GS 1 à 7, pour les 3 niveaux géographiques commune/département/région
    columns:
      - name: codgeo
        description: code INSEE de la zone géographique
        data_type: text
      - name: YEAR
        description: mois_année de mesure des données
        data_type: text
        quote: true
      - name: Type
        description: Effectif salariés  ou  Nombre d'établissements
        data_type: test
        quote: true
      - name: GS1 Industrie
        description: Grand secteur numéro 1
        data_type: integer
        quote: true
      - name: GS2 Construction
        description: Grand secteur numéro 2
        data_type: integer
        quote: true
      - name: GS3 Commerce
        description: Grand secteur numéro 3
        data_type: integer
        quote: true
      - name: GS4 Hôtellerie-restaurant
        description: Grand secteur numéro 4
        data_type: integer
        quote: true
      - name: GS5 Autres services
        description: Grand secteur numéro 5
        data_type: integer
        quote: true
      - name: GS6 Intérim
        description: Grand secteur numéro 6
        data_type: integer
        quote: true
      - name: GS7 Service non marchands
        description: Grand secteur numéro 7
        data_type: integer
        quote: true

  - name: gold_emploi_bmo_metiers
    description: Table contenant les besoins en main d'oeuvre pour 2024 par métiers de la FAP 2021
    columns:
      - name: codgeo
        description: Code INSEE de la zone géographique, "reg"+code pour les régions
        data_type: integer
      - name: Bassin_Emploi
        description: Nom des bassins d'emploi définition 2024, nom des départements ou régions si nécessaire pour l'application
        data_type: text
        quote: true
      - name: YEAR
        description: année de mesure
        data_type: integer
        quote: true

  - name: gold_emploi_bmo_secteurs
    description: Table contenant les besoins en main d'oeuvre pour 2024 par secteurs professionnels de la FAP 2021
    columns:
      - name: codgeo
        description: Code INSEE de la zone géographique, "reg"+code pour les régions
        data_type: integer
      - name: Bassin_Emploi
        description: Nom des bassins d'emploi définition 2024, nom des départements ou régions si nécessaire pour l'application
        data_type: text
        quote: true
      - name: YEAR
        description: année de mesure
        data_type: integer
        quote: true

  - name: gold_emploi_bmo_recrutement
    description: Table contenant les besoins en main d'oeuvre pour 2024 par recrutements
    columns:
      - name: codgeo
        description: Code INSEE de la zone géographique, "reg"+code pour les régions
        data_type: integer
      - name: Bassin_Emploi
        description: Nom des bassins d'emploi définition 2024, nom des départements ou régions si nécessaire pour l'application
        data_type: text
        quote: true
      - name: YEAR
        description: année de mesure
        data_type: integer
        quote: true
      - name: Projets de recrutement
        description: Nombre total de projets de recrutement pour une zone géographique donnée
        data_type: numeric
        quote: true
      - name: Difficultés à recruter
        description: Nombre de projets de recrutements jugés difficile pour une zone géographique donnée
        data_type: numeric
        quote: true
      - name: Emplois saisonniers
        description: Nombre de projets de recrutements d'emplois saisonniers pour une zone géographique donnée
        data_type: numeric
        quote: true

  - name: gold_homepage_accueil
    description: Table contenant les données sur les structures d'accueil regroupées par département
    columns:
      - name: codgeo
        description: Code commune (5 chiffres) ou du département (2 chiffres) ou de la région (reg + 2 chiffres)
        data_type: text
      - name: total
        description: nombre total de places dans les structures d'accueil
        data_type: integer
      - name: cada
        description: nombre de places dans les cada
        data_type: integer
      - name: urgences
        description: nombre de places dans les urgences
        data_type: integer
      - name: huda
        description: nombre de places dans les huda
        data_type: integer
      - name: cph
        description: nombre de places dans les cph
        data_type: integer
      - name: chrs
        description: nombre de places dans les chrs
        data_type: integer
      - name: chrs_etab
        description: nombre de places dans les chrs_etab
        data_type: integer

  - name: gold_population_by_age_gender
    description: Table transformée contenant les indicateurs de population par tranche d'âge et sexe par commune
    columns:
      - name: codegeo
        description: code des départements ou des régions si le code est préfixé par 'REG'
        data_type: text
      - name: YEAR
        description: Année de l'étude
        data_type: text
      - name: pop
        description: population total, toutes tranches d'âge et sexe confondus
        data_type: numeric
      - name: poph
        description: population total pour les hommes, toutes tranches d'âge
        data_type: numeric
      - name: h0014
        description: population d'hommes entre 0 et 14 ans
        data_type: numeric
      - name: h1529
        description: population d'hommes entre 15 et 29 ans
        data_type: numeric
      - name: h3044
        description: population d'hommes entre 30 et 44 ans
        data_type: numeric
      - name: h4559
        description: population d'hommes entre 45 et 59 ans
        data_type: numeric
      - name: h6074
        description: population d'hommes entre 60 et 74 ans
        data_type: numeric
      - name: h7589
        description: population d'hommes entre 75 et 89 ans
        data_type: numeric
      - name: h90p
        description: population d'hommes de 90 ou plus
        data_type: numeric
      - name: popf
        description: population total pour les femmes, toutes tranches d'âge
        data_type: numeric
      - name: f0014
        description: population de femmes entre 0 et 14 ans
        data_type: numeric
      - name: f1529
        description: population de femmes entre 15 et 29 ans
        data_type: numeric
      - name: f3044
        description: population de femmes entre 30 et 44 ans
        data_type: numeric
      - name: f4559
        description: population de femmes entre 45 et 59 ans
        data_type: numeric
      - name: f6074
        description: population de femmes entre 60 et 74 ans
        data_type: numeric
      - name: f7589
        description: population de femmes entre 75 et 89 ans
        data_type: numeric
      - name: f90p
        description: population de femmes de 90 ou plus
        data_type: numeric
  - name: gold_services
    description: Table recensant les nombres de services identifiés d'une zone géographique identifiée
    columns:
      - name: codgeo
        description: Code INSEE officiel pour les 3 zones géographiques
        data_type: text
      - name: YEAR
        description: Année de mesure des données
        data_type: numeric
        quote: true
      - name: Réseau de proximité Pôle emploi
        description: Nombre de réseau de proximité dans la zone géographique identifiée
        data_type: double precision
        quote: true
      - name: Implantations France services
        description: Nombre d'implantations France services dans la zone géographique identifiée
        data_type: double precision
        quote: true
      - name: Banques, caisses d'épargne
        description: Nombre de banques, de caisse d'épargne dans la zone géographique identifiée
        data_type: double precision
        quote: true
      - name: Bureau de poste
        description: Nombre de bureau de poste dans la zone géographique identifiée
        data_type: double precision
        quote: true
      - name: Agence postale
        description: Nombre d'agences postales dans la zone géographique identifiée
        data_type: double precision
        quote: true
      - name: École de conduite
        description: Nombre d'écoles de conduite dans la zone géographique identifiée
        data_type: double precision
        quote: true
      - name: Salon de Coiffure
        description: Nombre de salons de coiffure dans la zone géographique identifiée
        data_type: double precision
        quote: true
      - name: Agence de travail temporaire
        description: Nombre d'agnece de travail temporaire dans la zone géographique identifiée
        data_type: double precision
        quote: true
      - name: Restaurant ou Restauration rapide
        description: Nombre de restaurants ou restauration rapide dans la zone géographique identifiée
        data_type: double precision
        quote: true
